import os

# –õ–∞–±–∏—Ä–∏–Ω—Ç (0 = –ø—Ä–æ—Ö–æ–¥, 1 = —Å—Ç–µ–Ω–∞, 'S' = —Å—Ç–∞—Ä—Ç, 'E' = –≤—ã—Ö–æ–¥)
maze = [
    ['#', '#', '#', '#', '#', '#', '#', '#', '#', '#'],
    ['#', 'S', '.', '.', '#', '.', '.', '.', '.', '#'],
    ['#', '#', '#', '.', '#', '.', '#', '#', '.', '#'],
    ['#', '.', '.', '.', '.', '.', '#', '.', '.', '#'],
    ['#', '.', '#', '#', '#', '#', '#', '.', '#', '#'],
    ['#', '.', '#', '.', '.', '.', '.', '.', '#', '#'],
    ['#', '.', '#', '.', '#', '#', '#', '#', '#', '#'],
    ['#', '.', '.', '.', '.', '.', '.', '.', 'E', '#'],
    ['#', '#', '#', '#', '#', '#', '#', '#', '#', '#']
]

# –ù–∞–π—Ç–∏ —Å—Ç–∞—Ä—Ç–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
def find_start(maze):
    for y, row in enumerate(maze):
        for x, cell in enumerate(row):
            if cell == 'S':
                return x, y
    return None

# –í—ã–≤–æ–¥ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
def print_maze(maze):
    os.system('cls' if os.name == 'nt' else 'clear')  # –û—á–∏—Å—Ç–∫–∞ —ç–∫—Ä–∞–Ω–∞
    for row in maze:
        print(" ".join(row))
    print("\n–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: W (–≤–≤–µ—Ä—Ö), A (–≤–ª–µ–≤–æ), S (–≤–Ω–∏–∑), D (–≤–ø—Ä–∞–≤–æ). Q ‚Äî –≤—ã—Ö–æ–¥.")

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–≥—Ä—ã
def play_maze():
    px, py = find_start(maze)
    if not px:
        print("–û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è!")
        return

    print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –õ–∞–±–∏—Ä–∏–Ω—Ç!")
    print("–ù–∞–π–¥–∏ –≤—ã—Ö–æ–¥ (E)!")

    while True:
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞
        temp_maze = [row[:] for row in maze]  # –ö–æ–ø–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
        temp_maze[py][px] = 'P'

        print_maze(temp_maze)

        move = input("–ö—É–¥–∞ –∏–¥—ë–º? (W/A/S/D): ").strip().upper()

        if move == 'Q':
            print("–í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã.")
            break

        new_px, new_py = px, py

        if move == 'W':
            new_py -= 1
        elif move == 'S':
            new_py += 1
        elif move == 'A':
            new_px -= 1
        elif move == 'D':
            new_px += 1
        else:
            print("–ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥! –ò—Å–ø–æ–ª—å–∑—É–π W, A, S, D.")
            continue

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –∏ —Å—Ç–µ–Ω—ã
        if new_py < 0 or new_py >= len(maze) or new_px < 0 or new_px >= len(maze[0]):
            print("–í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã!")
            continue

        if maze[new_py][new_px] == '#':
            print("–°—Ç–µ–Ω–∞! –ù–µ–ª—å–∑—è –ø—Ä–æ–π—Ç–∏.")
            continue

        # –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
        px, py = new_px, new_py

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã—Ö–æ–¥–∞
        if maze[py][px] == 'E':
            print_maze(temp_maze)
            print("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –Ω–∞—à–ª–∏ –≤—ã—Ö–æ–¥!")
            break

# –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
if __name__ == "__main__":
    play_maze()
